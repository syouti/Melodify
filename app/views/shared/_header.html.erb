<header class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <%= link_to 'Melodify', root_path, class: 'navbar-brand' %>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>


    <% if user_signed_in? %>
  <div class="search-form">
    <%= form_tag(search_path, method: :get) do %>
      <div class="input-group mb-3">
        <%= select_tag :model, options_for_select([['ユーザー', 'user'], ['投稿', 'post']]), class: 'form-select' %>
        <%= text_field_tag :content, params[:content], class: 'form-control', placeholder: '検索キーワード' %>
        <%= select_tag :method, options_for_select([['完全一致', 'perfect'], ['前方一致', 'forward'], ['後方一致', 'backward'], ['部分一致', 'partial']]), class: 'form-select' %>
        <%= submit_tag '検索', class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>
   <% end %>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><%= link_to 'ホーム', root_path, class: 'nav-link' %></li>
        <% if user_signed_in? %>
          <li class="nav-item"><%= link_to 'マイページ', user_path(current_user), class: 'nav-link' %></li>
          <li class="nav-item">
            <%= link_to 'ログアウト', destroy_user_session_path, method: :delete, class: 'nav-link', data: { confirm: '本当にログアウトしますか？' } %>
          </li>
        <% else %>
          <li class="nav-item"><%= link_to 'ログイン', new_user_session_path, class: 'nav-link' %></li>
          <li class="nav-item"><%= link_to '新規登録', new_user_registration_path, class: 'nav-link' %></li>
        <% end %>
      </ul>
    </div>
  </div>

</header>
